coordinator:
  etcFiles:
    properties:
      config.properties: |
        http-server.authentication.type=PASSWORD
        http-server.https.enabled=true
        http-server.https.port=8443
        http-server.process-forwarded=true
        http-server.https.keystore.path=secretRef:starburst-tls:keystore.jks
        http-server.https.keystore.key=keystore_password
        internal-communication.https.required=true
        discovery.uri=http://51.159.112.133:8443
      log.properties: |
        io.prestosql.plugin.password.ldap=DEBUG
      password-authenticator.properties: |
        password-authenticator.name=ldap
        ldap.url=ldap://openldap.spark.svc.cluster.local:389
        ldap.user-bind-pattern=uid=${USER},ou=users,dc=example,dc=com
        ldap.allow-insecure=true

  extraVolumes:
    - name: starburst-tls
      secret:
        secretName: starburst-tls
    - name: ldap-ca
      secret:
        secretName: ldap-ca
  extraVolumes:
    - name: starburst-tls
      secret:
        secretName: starburst-tls
  extraVolumeMounts:
    - name: starburst-tls
      mountPath: /mnt/secretRef/starburst-tls
      readOnly: true